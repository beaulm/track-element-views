function trackViews(k,r,t){function u(a){if(null!==a.getAttribute("data-trackname"))return a.getAttribute("data-trackname");if(null!==a.getAttribute("id"))return a.getAttribute("id");if(null!==a.getAttribute("src"))return a.getAttribute("src");if(null!==a.getAttribute("name"))return a.getAttribute("name");if(""!==a.innerText.substr(0,64))return a.innerText.substr(0,64);if(null!==a.getAttribute("alt"))return a.getAttribute("alt")}function l(a,e,d){window.hasOwnProperty("ga")&&"function"===typeof window.ga&&
window.ga("send","event","Element",a,e,d);a=new CustomEvent(a,{detail:{action:e,label:d}});window.dispatchEvent(a)}Date.now||(Date.now=function(){return(new Date).getTime()});var f={},g={};window.onscroll=function(a,e,d){var b;return function(){var f=this,g=arguments,h=d&&!b;clearTimeout(b);b=setTimeout(function(){b=null;d||a.apply(f,g)},e);h&&a.apply(f,g)}}(function(){for(var a=[],e=document.querySelectorAll(t),d=0;d<e.length;d++){var b=e[d].getBoundingClientRect(),k=b.width*b.height,q=window.innerHeight||
document.documentElement.clientHeight,h=window.innerWidth||document.documentElement.clientWidth,m=b.top,n=b.bottom,p=b.left,b=b.right;0>m&&(m=0);n>q&&(n=q);0>p&&(p=0);b>h&&(b=h);(b-p)*(n-m)/k*100>=r&&a.push(u(e[d]))}for(var c in f)f.hasOwnProperty(c)&&-1===a.indexOf(c)&&(g.hasOwnProperty(c)||(g[c]=[]),e=Date.now()-f[c],g[c].push(e),l("individualView",c,e),delete f[c]);for(c=0;c<a.length;c++)f.hasOwnProperty(a[c])||(f[a[c]]=Date.now())},k,!1);window.onbeforeunload=function(){for(var a in g)l("totalViews",
a,g[a].length),l("viewedFor",a,g[a].reduce(function(a,d){return a+d},0))}};